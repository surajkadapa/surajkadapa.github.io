const m="modulepreload",g=function(l){return"/"+l},u={},p=function(e,n,a){let c=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),t=i?.nonce||i?.getAttribute("nonce");c=Promise.allSettled(n.map(o=>{if(o=g(o),o in u)return;u[o]=!0;const r=o.endsWith(".css"),h=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const s=document.createElement("link");if(s.rel=r?"stylesheet":m,r||(s.as="script"),s.crossOrigin="",s.href=o,t&&s.setAttribute("nonce",t),document.head.appendChild(s),r)return new Promise((f,w)=>{s.addEventListener("load",f),s.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${o}`)))})}))}function d(i){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=i,window.dispatchEvent(t),!t.defaultPrevented)throw i}return c.then(i=>{for(const t of i||[])t.status==="rejected"&&d(t.reason);return e().catch(d)})};class y extends HTMLElement{#o;#e;#s;#t;#n;constructor(){super(),this.#t=this.querySelector("button[data-open-modal]"),this.#o=this.querySelector("button[data-close-modal]"),this.#e=this.querySelector("dialog"),this.#s=this.querySelector(".dialog-frame"),this.#n=new AbortController,this.#t?(this.#t.addEventListener("click",this.openModal),this.#t.disabled=!1):console.warn("Search button not found"),this.#o?this.#o.addEventListener("click",this.closeModal):console.warn("Close button not found"),this.#e?this.#e.addEventListener("close",()=>{window.removeEventListener("click",this.onWindowClick)}):console.warn("Dialog not found"),(window.requestIdleCallback||(n=>setTimeout(n,1)))(async()=>{const{PagefindUI:n}=await p(async()=>{const{PagefindUI:a}=await import("./ui-core.C-ti58WS.js");return{PagefindUI:a}},[]);new n({baseUrl:"/",bundlePath:"/".replace(/\/$/,"")+"/pagefind/",element:"#cactus__search",showImages:!1,showSubResults:!0})})}connectedCallback(){window.addEventListener("keydown",this.onWindowKeydown,{signal:this.#n.signal})}disconnectedCallback(){this.#n.abort()}openModal=e=>{if(!this.#e){console.warn("Dialog not found");return}this.#e.showModal(),this.querySelector("input")?.focus(),e?.stopPropagation(),window.addEventListener("click",this.onWindowClick,{signal:this.#n.signal})};closeModal=()=>this.#e?.close();onWindowClick=e=>{("href"in(e.target||{})||document.body.contains(e.target)&&!this.#s?.contains(e.target))&&this.closeModal()};onWindowKeydown=e=>{if(!this.#e){console.warn("Dialog not found");return}(e.metaKey===!0||e.ctrlKey===!0)&&e.key==="k"&&(this.#e.open?this.closeModal():this.openModal(),e.preventDefault())}}customElements.define("site-search",y);export{p as _};
